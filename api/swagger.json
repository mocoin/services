{"swagger":"2.0","info":{"description":"コインサービスの提供するAPIは、コインを扱うアプリケーションに有用なインターフェースを提供します。","version":"2018-08-01T03:38:14Z","title":"entamecoin-mocoin","termsOfService":"https://motionpicture.jp/","contact":{"name":"Tetsu Yamazaki","url":"https://github.com/ilovegadd","email":"yamazaki@motionpicture.jp"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}},"host":"asrw80qlrc.execute-api.ap-northeast-1.amazonaws.com","basePath":"/entamecoin","schemes":["https"],"paths":{"/":{"get":{"summary":"hello","description":"hello","produces":["application/json"],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/HelloResponse"}}}}},"/people/me/accounts/coin":{"get":{"tags":["コイン口座サービス"],"summary":"コイン口座検索","produces":["application/json"],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/AccountList"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]},"post":{"tags":["コイン口座サービス"],"summary":"コイン口座開設","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"OpenAccountParams","description":"口座番号と口座名義を指定します。サービス内で口座番号がユニークとなるように指定側で管理すること。 重複すればステータスコード409が返されます。","required":true,"schema":{"$ref":"#/definitions/OpenAccountParams"}}],"responses":{"201":{"description":"201 response","schema":{"$ref":"#/definitions/Account"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/people/me/accounts/coin/{accountNumber}":{"get":{"tags":["コイン口座サービス"],"summary":"コイン口座照会","produces":["application/json"],"parameters":[{"name":"accountNumber","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/Account"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/people/me/accounts/coin/{accountNumber}/actions/moneyTransfer":{"get":{"tags":["コイン口座サービス"],"summary":"コイン口座取引履歴検索","produces":["application/json"],"parameters":[{"name":"accountNumber","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/MoneyTransferActionList"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/people/me/accounts/coin/{accountNumber}/close":{"put":{"tags":["コイン口座サービス"],"summary":"コイン口座解約","produces":["application/json"],"parameters":[{"name":"accountNumber","in":"path","required":true,"type":"string"}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/people/me/accounts/point":{"get":{"tags":["ポイントサービス"],"summary":"ポイント口座検索","produces":["application/json"],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/AccountList"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]},"post":{"tags":["ポイントサービス"],"summary":"ポイント口座開設","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"OpenAccountParams","description":"口座番号と口座名義を指定します。サービス内で口座番号がユニークとなるように指定側で管理すること。 重複すればステータスコード409が返されます。","required":true,"schema":{"$ref":"#/definitions/OpenAccountParams"}}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/Account"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/people/me/accounts/point/{accountNumber}":{"get":{"tags":["ポイントサービス"],"summary":"ポイント口座照会","produces":["application/json"],"parameters":[{"name":"accountNumber","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/Account"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/people/me/accounts/point/{accountNumber}/actions/moneyTransfer":{"get":{"tags":["ポイントサービス"],"summary":"ポイント口座取引履歴検索","produces":["application/json"],"parameters":[{"name":"accountNumber","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/MoneyTransferActionList"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/people/me/accounts/point/{accountNumber}/close":{"put":{"tags":["ポイントサービス"],"summary":"ポイント口座解約","produces":["application/json"],"parameters":[{"name":"accountNumber","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/AnyResponse"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/people/me/paymentMethods":{"get":{"tags":["決済方法サービス"],"summary":"決済方法検索","produces":["application/json"],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/AnyResponse"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]},"post":{"tags":["決済方法サービス"],"summary":"決済方法追加","produces":["application/json"],"responses":{"201":{"description":"201 response","schema":{"$ref":"#/definitions/AnyResponse"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/people/me/paymentMethods/{paymentMethodId}":{"delete":{"tags":["決済方法サービス"],"summary":"決済方法削除","produces":["application/json"],"parameters":[{"name":"paymentMethodId","in":"path","required":true,"type":"string"}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/buyCoin/cancel":{"post":{"tags":["コイン取引サービス"],"summary":"コイン購入取引中止","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"CancelTransactionParams","description":"取引中止パラメーター","required":true,"schema":{"$ref":"#/definitions/CancelTransactionParams"}}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/buyCoin/confirm":{"post":{"tags":["コイン取引サービス"],"summary":"コイン購入取引確定","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"ConfirmTransactionParams","description":"取引確定パラメーター","required":true,"schema":{"$ref":"#/definitions/ConfirmTransactionParams"}}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/buyCoin/start":{"post":{"tags":["コイン取引サービス"],"summary":"コイン購入取引開始","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"StartTransactionParams","description":"取引開始パラメーター","required":true,"schema":{"$ref":"#/definitions/StartTransactionParams"}}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/AnyResponse"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/depositCoin/cancel":{"post":{"tags":["コイン取引サービス"],"summary":"コイン入金取引中止","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"CancelTransactionParams","description":"取引中止パラメーター","required":true,"schema":{"$ref":"#/definitions/CancelTransactionParams"}}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/depositCoin/confirm":{"post":{"tags":["コイン取引サービス"],"summary":"コイン入金取引確定","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"ConfirmTransactionParams","description":"取引確定パラメーター","required":true,"schema":{"$ref":"#/definitions/ConfirmTransactionParams"}}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/depositCoin/start":{"post":{"tags":["コイン取引サービス"],"summary":"コイン入金取引開始","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"StartTransactionParams","description":"取引開始パラメーター","required":true,"schema":{"$ref":"#/definitions/StartTransactionParams"}}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/AnyResponse"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/returnCoin/cancel":{"post":{"tags":["コイン取引サービス"],"summary":"コイン返金取引中止","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"CancelTransactionParams","description":"取引中止パラメーター","required":true,"schema":{"$ref":"#/definitions/CancelTransactionParams"}}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/returnCoin/confirm":{"post":{"tags":["コイン取引サービス"],"summary":"コイン返金取引確定","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"ConfirmTransactionParams","description":"取引確定パラメーター","required":true,"schema":{"$ref":"#/definitions/ConfirmTransactionParams"}}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/returnCoin/start":{"post":{"tags":["コイン取引サービス"],"summary":"コイン返金取引開始","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"StartTransactionParams","description":"取引開始パラメーター","required":true,"schema":{"$ref":"#/definitions/StartTransactionParams"}}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/AnyResponse"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/transferCoin/cancel":{"post":{"tags":["コイン取引サービス"],"summary":"コイン転送取引中止","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"CancelTransactionParams","description":"取引中止パラメーター","required":true,"schema":{"$ref":"#/definitions/CancelTransactionParams"}}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/transferCoin/confirm":{"post":{"tags":["コイン取引サービス"],"summary":"コイン転送取引確定","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"ConfirmTransactionParams","description":"取引確定パラメーター","required":true,"schema":{"$ref":"#/definitions/ConfirmTransactionParams"}}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/transferCoin/start":{"post":{"tags":["コイン取引サービス"],"summary":"コイン転送取引開始","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"StartTransactionParams","description":"取引開始パラメーター","required":true,"schema":{"$ref":"#/definitions/StartTransactionParams"}}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/AnyResponse"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/withdrawCoin/cancel":{"post":{"tags":["コイン取引サービス"],"summary":"コイン出金取引中止","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"CancelTransactionParams","description":"取引中止パラメーター","required":true,"schema":{"$ref":"#/definitions/CancelTransactionParams"}}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/withdrawCoin/confirm":{"post":{"tags":["コイン取引サービス"],"summary":"コイン出金取引確定","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"ConfirmTransactionParams","description":"取引確定パラメーター","required":true,"schema":{"$ref":"#/definitions/ConfirmTransactionParams"}}],"responses":{"204":{"description":"204 response"},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}},"/transactions/withdrawCoin/start":{"post":{"tags":["コイン取引サービス"],"summary":"コイン出金取引開始","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"StartTransactionParams","description":"取引開始パラメーター","required":true,"schema":{"$ref":"#/definitions/StartTransactionParams"}}],"responses":{"200":{"description":"200 response","schema":{"$ref":"#/definitions/AnyResponse"}},"400":{"description":"400 response","schema":{"$ref":"#/definitions/ErrorResponse"}}},"security":[{"authorizerFunc":[]}]}}},"securityDefinitions":{"authorizerFunc":{"type":"apiKey","name":"Authorization","in":"header","x-amazon-apigateway-authtype":"custom"}},"definitions":{"Account":{"type":"object","properties":{"balance":{"type":"integer","description":"残高"},"accountType":{"type":"string","description":"口座タイプ"},"name":{"type":"string","description":"口座名義"},"accountNumber":{"type":"string","description":"口座番号"},"availableBalance":{"type":"integer","description":"利用可能残高"}},"description":"口座"},"ConfirmTransactionParams":{"type":"object","properties":{"token":{"type":"string","description":"取引トークン"}},"description":"取引確定パラメーター"},"Action":{"type":"object","properties":{"actionStatus":{"$ref":"#/definitions/ActionStatusType"},"endDate":{"type":"string","format":"date-time","description":"終了日時"},"id":{"type":"string","description":"アクションID"},"startDate":{"type":"string","format":"date-time","description":"開始日時"}},"description":"アクション"},"TransactionType":{"type":"string","description":"取引タイプ:\n  * `Deposit` - 入金取引タイプ\n  * `Transfer` - 転送取引タイプ\n  * `Withdraw` - 出金取引タイプ\n","enum":["Deposit","Transfer","Withdraw"]},"TransactionAttributes":{"type":"object","properties":{"expires":{"type":"string","format":"date-time","description":"確定期限"},"agent":{"$ref":"#/definitions/TransactionAgent"},"endDate":{"type":"string","format":"date-time","description":"終了日時"},"recipient":{"$ref":"#/definitions/TransactionRecipient"},"id":{"type":"string","description":"取引ID"},"typeOf":{"$ref":"#/definitions/TransactionType"},"startDate":{"type":"string","format":"date-time","description":"開始日時"},"status":{"$ref":"#/definitions/TransactionStatus"}},"description":"取引共通属性"},"AnyResponse":{"description":"any"},"ActionStatusType":{"type":"string","enum":["ActiveActionStatus","CompletedActionStatus","FailedActionStatus","PotentialActionStatus","CanceledActionStatus"]},"MoneyTransferAction":{"allOf":[{"$ref":"#/definitions/Action"},{"type":"object","properties":{"amount":{"type":"integer","description":"金額"},"purpose":{"description":"取引","$ref":"#/definitions/TransactionAttributes"},"fromLocation":{"description":"転送元","$ref":"#/definitions/MoneyTransferActionLocation"},"toLocation":{"description":"転送先","$ref":"#/definitions/MoneyTransferActionLocation"}}}],"description":"金額転送アクション"},"MoneyTransferActionLocation":{"type":"object","properties":{"typeOf":{"type":"string"}},"description":"金額保管場所"},"TransactionAgent":{"type":"object","properties":{"name":{"type":"string","description":"進行人名"},"id":{"type":"string","description":"進行人ID"},"typeOf":{"type":"string","description":"進行人タイプ"},"url":{"type":"string","description":"進行人URL"}},"description":"取引進行人"},"TransactionStatus":{"type":"string","description":"取引ステータス:\n  * `InProgress` - 進行中\n  * `Canceled` - 中止済\n  * `Confirmed` - 確定済\n  * `Expired` - 期限切れ\n","enum":["InProgress","Canceled","Confirmed","Expired"]},"OpenAccountParams":{"type":"object","properties":{"name":{"type":"string","description":"口座名義"},"accountNumber":{"type":"string","description":"口座番号"}},"description":"口座開設設定"},"AccountList":{"type":"array","description":"口座リスト","items":{"$ref":"#/definitions/Account"}},"ErrorResponse":{"type":"object","properties":{"error":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"errors":{"type":"array","items":{"$ref":"#/definitions/ErrorDetail"}}}}},"description":"エラーレスポンス"},"StartTransactionParams":{"type":"object","properties":{"expires":{"type":"string","format":"date-time","description":"取引期限"},"agent":{"$ref":"#/definitions/TransactionAgent"},"amount":{"type":"integer","description":"金額"},"notes":{"type":"string","description":"取引説明"},"recipient":{"$ref":"#/definitions/TransactionRecipient"}},"description":"取引開始共通パラメーター"},"TransactionRecipient":{"type":"object","properties":{"name":{"type":"string","description":"受取人名"},"id":{"type":"string","description":"受取人ID"},"typeOf":{"type":"string","description":"受取人タイプ"},"url":{"type":"string","description":"受取人URL"}},"description":"取引受取人"},"ErrorDetail":{"type":"object","properties":{"reason":{"type":"string"},"name":{"type":"string"},"message":{"type":"string"}},"description":"詳細エラー"},"HelloResponse":{"type":"object","properties":{"message":{"type":"string"}},"description":"ハローレスポンス"},"MoneyTransferActionList":{"type":"array","description":"金額転送アクションリスト","items":{"$ref":"#/definitions/MoneyTransferAction"}},"CancelTransactionParams":{"type":"object","properties":{"token":{"type":"string","description":"取引トークン"}},"description":"取引中止パラメーター"}}}
